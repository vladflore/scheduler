<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://pyscript.net/releases/2024.1.1/core.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <script
      type="module"
      src="https://pyscript.net/releases/2024.1.1/core.js"
    ></script>
    <script type="module">
      const loading = document.getElementById("loading");
      const container = document.getElementById("container");
      addEventListener("py:ready", () => {
        loading.close();
        container.classList.remove("d-none");
      });
      loading.showModal();
    </script>
    <title>Scheduler</title>
    <link rel="icon" type="image/png" href="./assets/images/favicon.jpeg" />
  </head>

  <body>
    <dialog id="loading">
      <h1>Loading...</h1>
    </dialog>

    <nav
      class="navbar sticky-top py-1"
      style="background-color: #000000; min-height: 60px"
    >
      <div
        class="container-fluid d-flex align-items-center justify-content-between"
      >
        <a href="index.html">
          <img src="./assets/images/logo.jpeg" class="logo" alt="Logo" />
        </a>
      </div>
    </nav>

    <section class="pyscript">
      <main>
        <section>
          <div id="container" class="container py-5 d-none">
            <h2 class="mb-4 text-center">Fitness Classes Scheduler</h2>
            <div class="mb-3 d-flex gap-2">
              <button class="btn btn-outline-gold" onclick="printIframe()">
                <i class="bi bi-printer fs-4"></i>
              </button>
              <button id="download-iframe" class="btn btn-outline-gold">
                <i class="bi bi-download fs-4"></i>
              </button>
            </div>
            <script>
              function printIframe() {
                const iframe = document.getElementById("schedule");
                if (iframe && iframe.contentWindow) {
                  iframe.contentWindow.focus();
                  iframe.contentWindow.print();
                }
              }
            </script>
            <iframe
              id="schedule"
              src=""
              style="width: 100%; height: 800px; border: none"
            ></iframe>
          </div>
        </section>
      </main>
    </section>

    <script type="py" src="./main.py" config="./pyscript.toml"></script>
  </body>
</html>
